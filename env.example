# ============================================================================
# Tsushin Environment Configuration
# Phase 9: Application Containerization
#
# Copy this file to .env and configure the values for your environment.
# ============================================================================

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------

# Backend host and port
TSN_APP_HOST=0.0.0.0
TSN_APP_PORT=8081

# URL Configuration (for OAuth callbacks, redirects, etc.)
# In production, set these to your actual domain URLs
TSN_BACKEND_URL=http://localhost:8081
TSN_FRONTEND_URL=http://localhost:3030
TSN_GOOGLE_OAUTH_REDIRECT_URI=http://localhost:8081/api/hub/google/oauth/callback

# Log level (DEBUG, INFO, WARNING, ERROR)
TSN_LOG_LEVEL=INFO
TSN_LOG_FILE=/app/logs/tsushin.log

# MCP Watcher polling interval (milliseconds)
TSN_POLL_INTERVAL_MS=3000

# ----------------------------------------------------------------------------
# Database Paths
# ----------------------------------------------------------------------------

# Internal SQLite database path
INTERNAL_DB_PATH=/app/data/agent.db

# DEPRECATED: Legacy MCP messages database path
# Now managed via MCP Instance Manager (Phase 8)
# MCP_MESSAGES_DB_PATH=/path/to/whatsapp-mcp/store/messages.db

# ChromaDB vector store directory
TSN_CHROMA_DIR=/app/data/chroma

# Custom tools workspace directory
TSN_WORKSPACE_DIR=/app/data/workspace

# Database backups directory
TSN_BACKUPS_DIR=/app/data/backups

# ----------------------------------------------------------------------------
# AI Provider API Keys
# Configure at least one provider for agent functionality
# ----------------------------------------------------------------------------

# Google Gemini (Recommended - default provider)
GEMINI_API_KEY=

# OpenAI (Required for audio transcription and TTS)
OPENAI_API_KEY=

# Anthropic Claude
ANTHROPIC_API_KEY=

# Ollama (Local LLM - optional)
OLLAMA_BASE_URL=http://localhost:11434

# ----------------------------------------------------------------------------
# Tool API Keys
# Optional - only needed if using these specific tools
# ----------------------------------------------------------------------------

# Brave Search API (for Google Search tool)
BRAVE_API=

# OpenWeatherMap API (for Weather tool)
OPENWEATHER_API_KEY=

# Amadeus API (for Flight Search tool)
AMADEUS_API_KEY=
AMADEUS_API_SECRET=

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------

# JWT Secret Key for authentication
# IMPORTANT: Generate a secure random key for production!
# Run: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=

# ----------------------------------------------------------------------------
# Integration APIs (Hub System)
# ----------------------------------------------------------------------------

# Asana Integration
# Generate encryption key: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ASANA_ENCRYPTION_KEY=
ASANA_REDIRECT_URI=http://localhost:3030/hub/asana/callback

# ----------------------------------------------------------------------------
# External Services
# ----------------------------------------------------------------------------

# Kokoro TTS Service URL (optional - for free voice synthesis)
KOKORO_SERVICE_URL=http://host.docker.internal:8880

# ----------------------------------------------------------------------------
# Docker-Specific Configuration
# When running in Docker, use host.docker.internal to access host services
# ----------------------------------------------------------------------------

# CRITICAL: Host path for MCP container volume mounts (Docker-in-Docker)
# This MUST be set to the absolute path of backend/data on your HOST machine.
# The installer (python3 install.py) sets this automatically.
# Example for Linux: /home/user/tsushin/backend/data
# Example for macOS: /Users/user/tsushin/backend/data
# Example for Windows: C:\Users\user\tsushin\backend\data
HOST_BACKEND_DATA_PATH=

# Example: Accessing host machine services from container
# SOME_HOST_SERVICE=http://host.docker.internal:8080

# ----------------------------------------------------------------------------
# Frontend Configuration
# ----------------------------------------------------------------------------

# Next.js public API URL (used at build time)
NEXT_PUBLIC_API_URL=http://localhost:8081

# ----------------------------------------------------------------------------
# Development/Testing (Tester WhatsApp MCP)
# ----------------------------------------------------------------------------

# Enable debug mode (development only)
# DEBUG=true

# Tester MCP Configuration
# Used for QA testing and agent validation
TESTER_MCP_PORT=8088
TESTER_PHONE_NUMBER=5500000000000
TESTER_MCP_URL=http://localhost:8088

# Enable tester mode for Hub integration
# When enabled, agents can be tested using the Tester MCP
TESTER_MODE_ENABLED=false
