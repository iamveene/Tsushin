# Ignore all dotfiles/folders by default
.*

# Exceptions for essential project config
!.gitignore
!**/.dockerignore
!**/.env.example
!**/.gitkeep

# Pre-commit and CI config (track these)
!.pre-commit-config.yaml
!.gitleaks.toml
!.github/

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
venv/
env/
ENV/
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
!frontend/lib/
frontend/lib/*.backup
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Environment variables
.env
.env.local
.env.production
*.env

# Database files
*.db
*.sqlite
*.sqlite3
backend/data/*.db
backend/data/chroma/

# Logs
*.log
logs/
backend/logs/

# Process ID files
*.pid
ops/.pids/

# IDE
.vscode/
.idea/
.claude/
.cursor/
CLAUDE.md
*.swp
*.swo
*~
.DS_Store

# Node modules
node_modules/
frontend/.next/
frontend/out/
frontend/build/

# Dependencies
frontend/package-lock.json
frontend/yarn.lock
frontend/pnpm-lock.yaml

# API Keys and sensitive data
backend/data/api_keys.json
**/credentials.json
**/secrets.json
**/*_secret*
**/*_key.json

# MCP WhatsApp data (read-only) - CONTAINS SENSITIVE MESSAGE HISTORY
# Don't track external MCP data or QA MCP instances
**/messages.db
**/whatsapp.db
**/store/messages.db
**/store/whatsapp.db
backend/ops/qa/*/whatsapp-bridge/store/
backend/ops/qa/vini_mcp/whatsapp-bridge/store/*.db

# OS
Thumbs.db
.DS_Store

# Windows reserved filenames
nul
NUL
CON
PRN
AUX
com[0-9]
lpt[0-9]

# Backups and Archives
*.bak
*_backup_*
backend_backup_*/
backups/
backend/data/backups/
archive/
*.tar.gz
*.zip

# ========================================
# PERSONAL/USER DATA - NEVER TRACK
# ========================================

# Private strategic documents
.private/
private/
backend/private/

# All backend data (user data created at runtime)
backend/data/chroma*/
backend/data/knowledge/
backend/data/mcp/
backend/data/workspace/
backend/data/projects/
backend/data/*.db*
backend/data/*_report.json

# WhatsApp/MCP session data
**/*.ogg
**/messages.db*
**/whatsapp.db*

# Cursor personal rules
.cursor/rules/architecture.mdc

# Amadeus credentials
hub/amadeus/env.*
!hub/amadeus/env.example

# Test data
test_data/
temp/
tmp/

# Development test scripts (not CI/CD tests)
backend/dev_tests/

# Individual test files outside tests/ directory
# (prevents accidental commits of dev test scripts)
backend/test_*.py
backend/run_*.py
backend/scripts/test_*.py
backend/scripts/setup_*_test.py

# Coverage
htmlcov/
.coverage
.coverage.*
coverage.xml
*.cover

# Jupyter Notebook
.ipynb_checkpoints

# pyenv
.python-version

# Environments
.venv
env/
venv/
ENV/
env.bak/
venv.bak/

# Clinerules
.clinerules/

# ========================================
# ARCHIVE & OPS - NEVER TRACK IN PUBLIC REPO
# ========================================

# Archive documentation (historical, not needed in public repo)
docs/archive/

# Ops scripts with sensitive/personal data
ops/qa_system.py
ops/seed_contacts.py

# Maintenance scripts
scripts/maintenance/

# One-time migration/utility scripts with hardcoded test data
backend/add_contact_mappings.py
backend/create_jt_flow.py
backend/test_text_to_kira.json
backend/test_invoke_kira.json
backend/test_invoke_kira2.json
backend/test_specific_question.json
backend/test_switch_to_kira.json
backend/test_suite.sh
backend/test_results.md
backend/final_validation.txt
backend/fix_agent_phone.py

# E2E tests with hardcoded test data (development-only)
backend/tests/comprehensive_e2e.py
backend/tests/e2e_skills_test.py
backend/tests/full_e2e_agent_test.py
backend/tests/monitor_and_verify.py
backend/tests/real_e2e_tests.py
backend/tests/run_all_tests.py
backend/tests/skills_regression_test.py
backend/tests/test_agent_name_prefix.py
backend/tests/test_all_skills.sh
backend/tests/test_cross_channel_memory.py
backend/tests/test_flight_and_nmap.py
backend/tests/test_flight_only.py
backend/tests/test_group_sender_resolver.py
backend/tests/test_inject_clear_whatsapp.py
backend/tests/test_mcp_container_manager.py
backend/tests/test_routes_mcp_instances.py
backend/tests/test_scheduler_now.py
backend/tests/test_vector_store.py
backend/test_flows_fix.sh
ops/check_persona_assignments.py
backend/test-api.html

# Root-level screenshots & dev artifacts
/*.png
/deployment-test-playbook.md
