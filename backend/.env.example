# Tsushin Backend Environment Variables
# All variables now use TSN_ prefix for consistency

# Application Configuration
TSN_APP_HOST=127.0.0.1
TSN_APP_PORT=8081

# Database Paths
# Windows example: D:\code\whatsapp-mcp\whatsapp-bridge\store\messages.db
# Linux example:   /opt/whatsapp-mcp/whatsapp-bridge/store/messages.db
# macOS example:   /Users/username/whatsapp-mcp/whatsapp-bridge/store/messages.db
TSN_INTERNAL_DB_PATH=./data/agent.db
TSN_MCP_MESSAGES_DB_PATH=

# Data Storage Paths (Optional - defaults shown)
# TSN_WORKSPACE_DIR=./data/workspace
# TSN_CHROMA_DIR=./data/chroma
# TSN_BACKUPS_DIR=./data/backups

# Logging
TSN_LOG_FILE=logs/tsushin.log
TSN_LOG_LEVEL=INFO

# MCP Watcher
TSN_POLL_INTERVAL_MS=3000

# AI Provider API Keys (Optional - can also be managed via UI)
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
GEMINI_API_KEY=

# Tool API Keys (Optional - can also be managed via UI)
BRAVE_SEARCH_API_KEY=
OPENWEATHER_API_KEY=

# Model Configuration (Optional - defaults to Gemini)
MODEL_PROVIDER=gemini
MODEL_NAME=gemini-2.5-pro

# Phase 7.6.3: Authentication (Required for production)
# Generate a secure random key: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production

# Kokoro TTS Service (Optional - defaults to localhost)
# URL for the Kokoro-FastAPI Docker service (Phase 7.4)
# Using pre-built container: ghcr.io/remsky/kokoro-fastapi-cpu:latest
KOKORO_SERVICE_URL=http://localhost:8880

# ========================================================================
# Hub Integration System - Asana MCP Server
# ========================================================================
# Asana MCP Server uses Dynamic Client Registration (DCR).
# No manual app creation needed! The system auto-registers on first use.

# Encryption Key (REQUIRED - for encrypting OAuth tokens in database)
# Generate a new key with this command:
#   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# IMPORTANT: Keep this key secret and backed up. Losing it means losing all stored tokens.
ASANA_ENCRYPTION_KEY=

# OAuth Callback URL (Optional - defaults to localhost)
# For production, set to your domain: https://your-domain.com/hub/asana/callback
# NOTE: You must request Asana to allowlist your redirect URI via their form
ASANA_REDIRECT_URI=http://localhost:3030/hub/asana/callback

# Client Credentials (AUTO-GENERATED - do not set manually)
# These are automatically obtained via Dynamic Client Registration on first OAuth.
# Stored in Config table after registration. Leave empty.
# ASANA_MCP_CLIENT_ID=      # Auto-generated
# ASANA_MCP_CLIENT_SECRET=  # Auto-generated

# ========================================================================
# BACKWARD COMPATIBILITY NOTES (Phase 1 - Temporary)
# ========================================================================
# During transition, the application supports both old and new variable names.
# Old variables (APP_*, MCP_*, etc.) will still work but are deprecated.
# Please migrate to TSN_* variables.
#
# Migration mapping:
#   APP_HOST          -> TSN_APP_HOST
#   APP_PORT          -> TSN_APP_PORT
#   INTERNAL_DB_PATH  -> TSN_INTERNAL_DB_PATH
#   MCP_MESSAGES_DB_PATH -> TSN_MCP_MESSAGES_DB_PATH
#   LOG_FILE          -> TSN_LOG_FILE
#   LOG_LEVEL         -> TSN_LOG_LEVEL
#   POLL_INTERVAL_MS  -> TSN_POLL_INTERVAL_MS
# ========================================================================
